<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WALKMAN ‚Äî Portable Audio Player</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Digital+7&display=swap');
        
        @font-face {
            font-family: 'LCD';
            src: local('Courier New');
        }

        :root {
            --walkman-blue: #1e3a5f;
            --walkman-silver: #b8c4ce;
            --walkman-orange: #ff6600;
            --lcd-green: #90b890;
            --lcd-dark: #2a3a2a;
            --button-gray: #444;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background: linear-gradient(135deg, #2a2a3a 0%, #1a1a2a 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            font-family: 'Orbitron', sans-serif;
        }

        /* WALKMAN BODY */
        .walkman {
            width: 320px;
            background: linear-gradient(180deg, var(--walkman-blue) 0%, #0f2540 100%);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 
                0 30px 60px rgba(0,0,0,0.5),
                inset 0 2px 0 rgba(255,255,255,0.1),
                inset 0 -2px 0 rgba(0,0,0,0.3);
            position: relative;
        }

        /* BRAND */
        .brand-area {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .brand-logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--walkman-silver);
            letter-spacing: 3px;
        }

        .brand-model {
            font-size: 0.5rem;
            color: var(--walkman-orange);
            letter-spacing: 1px;
        }

        /* LCD SCREEN */
        .lcd-container {
            background: #111;
            border-radius: 8px;
            padding: 8px;
            margin-bottom: 15px;
        }

        .lcd-screen {
            background: var(--lcd-green);
            border-radius: 4px;
            padding: 10px;
            position: relative;
        }

        .lcd-overlay {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: 
                repeating-linear-gradient(
                    0deg,
                    rgba(0,0,0,0.03) 0px,
                    rgba(0,0,0,0.03) 1px,
                    transparent 1px,
                    transparent 2px
                );
            pointer-events: none;
            border-radius: 4px;
        }

        .lcd-content {
            position: relative;
            z-index: 1;
            color: var(--lcd-dark);
            font-family: 'Courier New', monospace;
        }

        .lcd-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }

        .lcd-row:last-child { margin-bottom: 0; }

        .lcd-icon {
            font-size: 0.8rem;
        }

        .lcd-status {
            font-size: 0.6rem;
            letter-spacing: 1px;
        }

        .lcd-time {
            font-family: 'Courier New', monospace;
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            letter-spacing: 2px;
        }

        .lcd-track {
            font-size: 0.7rem;
            text-align: center;
            letter-spacing: 1px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .lcd-progress {
            display: flex;
            gap: 2px;
            justify-content: center;
            margin-top: 8px;
        }

        .lcd-block {
            width: 12px;
            height: 8px;
            background: var(--lcd-dark);
            opacity: 0.2;
        }

        .lcd-block.filled {
            opacity: 1;
        }

        /* CASSETTE WINDOW */
        .cassette-window {
            background: #0a0a0a;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
        }

        .cassette-label {
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.45rem;
            color: #444;
            letter-spacing: 2px;
        }

        .cassette-inner {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }

        .cassette-reel {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: 
                radial-gradient(circle at center, #222 0%, #111 50%),
                conic-gradient(from 0deg, #333 0deg, #1a1a1a 30deg, #333 60deg, #1a1a1a 90deg, #333 120deg, #1a1a1a 150deg, #333 180deg, #1a1a1a 210deg, #333 240deg, #1a1a1a 270deg, #333 300deg, #1a1a1a 330deg, #333 360deg);
            border: 3px solid #444;
            position: relative;
        }

        .cassette-reel::before {
            content: "";
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 12px; height: 12px;
            background: #555;
            border-radius: 50%;
        }

        .playing .cassette-reel {
            animation: reel-spin 1.5s linear infinite;
        }

        @keyframes reel-spin {
            100% { transform: rotate(360deg); }
        }

        .cassette-tape {
            width: 40px;
            height: 8px;
            background: linear-gradient(180deg, #8b4513 0%, #5c2d0a 100%);
            border-radius: 2px;
        }

        /* CONTROL BUTTONS */
        .controls-section {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        /* MAIN BUTTONS */
        .main-buttons {
            display: flex;
            justify-content: center;
            gap: 8px;
        }

        .ctrl-btn {
            width: 45px;
            height: 35px;
            background: linear-gradient(180deg, #555 0%, #333 100%);
            border: none;
            border-radius: 5px;
            color: #aaa;
            font-size: 0.9rem;
            cursor: pointer;
            box-shadow: 
                0 3px 0 #222,
                inset 0 1px 0 rgba(255,255,255,0.1);
            transition: all 0.1s ease;
        }

        .ctrl-btn:active {
            transform: translateY(2px);
            box-shadow: 0 1px 0 #222;
        }

        .ctrl-btn.play-btn {
            width: 55px;
            background: linear-gradient(180deg, var(--walkman-orange) 0%, #cc5500 100%);
            color: white;
        }

        .ctrl-btn.play-btn.active {
            background: linear-gradient(180deg, #ff8833 0%, var(--walkman-orange) 100%);
            box-shadow: 0 3px 0 #222, 0 0 10px rgba(255, 102, 0, 0.5);
        }

        /* SECONDARY BUTTONS */
        .secondary-buttons {
            display: flex;
            justify-content: space-between;
            padding: 0 10px;
        }

        .small-btn {
            width: 50px;
            height: 25px;
            background: #333;
            border: none;
            border-radius: 3px;
            color: #888;
            font-family: 'Orbitron', sans-serif;
            font-size: 0.45rem;
            cursor: pointer;
            letter-spacing: 1px;
        }

        .small-btn:hover {
            background: #444;
            color: #aaa;
        }

        .small-btn.active {
            background: var(--walkman-orange);
            color: white;
        }

        /* VOLUME SLIDER */
        .volume-section {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 0 10px;
        }

        .vol-label {
            font-size: 0.5rem;
            color: var(--walkman-silver);
            letter-spacing: 1px;
        }

        .vol-slider {
            flex: 1;
            -webkit-appearance: none;
            height: 6px;
            background: #222;
            border-radius: 3px;
        }

        .vol-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 16px;
            height: 16px;
            background: var(--walkman-silver);
            border-radius: 50%;
            cursor: pointer;
        }

        .vol-value {
            font-size: 0.5rem;
            color: var(--walkman-orange);
            min-width: 25px;
        }

        /* HEADPHONE JACK */
        .jack-section {
            display: flex;
            justify-content: center;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid rgba(255,255,255,0.1);
        }

        .headphone-jack {
            width: 30px;
            height: 15px;
            background: #222;
            border-radius: 0 0 15px 15px;
            position: relative;
        }

        .headphone-jack::before {
            content: "";
            position: absolute;
            top: 3px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 8px;
            background: #111;
            border-radius: 50%;
        }

        .jack-label {
            font-size: 0.4rem;
            color: #555;
            margin-left: 10px;
            letter-spacing: 1px;
        }

        /* PLAYLIST (hidden by default, toggle) */
        .playlist-section {
            margin-top: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 8px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .playlist-section.open {
            max-height: 200px;
            padding: 10px;
        }

        .playlist-item {
            display: flex;
            align-items: center;
            padding: 8px;
            cursor: pointer;
            border-radius: 4px;
            transition: background 0.15s ease;
        }

        .playlist-item:hover {
            background: rgba(255,255,255,0.05);
        }

        .playlist-item.active {
            background: rgba(255, 102, 0, 0.2);
        }

        .item-num {
            width: 20px;
            font-size: 0.6rem;
            color: var(--walkman-orange);
        }

        .item-title {
            flex: 1;
            font-size: 0.6rem;
            color: var(--walkman-silver);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* EQ DOTS */
        .eq-section {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
        }

        .eq-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #333;
        }

        .eq-dot.active {
            background: var(--walkman-orange);
            box-shadow: 0 0 5px var(--walkman-orange);
        }

        /* BELT CLIP */
        .belt-clip {
            position: absolute;
            top: 50%;
            right: -8px;
            transform: translateY(-50%);
            width: 12px;
            height: 60px;
            background: linear-gradient(90deg, #333 0%, #555 50%, #333 100%);
            border-radius: 0 5px 5px 0;
        }

        /* RESPONSIVE */
        @media (max-width: 360px) {
            .walkman { width: 280px; padding: 15px; }
            .ctrl-btn { width: 38px; height: 30px; }
            .ctrl-btn.play-btn { width: 48px; }
        }
    </style>
</head>
<body>

<div class="walkman" id="player">
    <div class="belt-clip"></div>
    
    <!-- BRAND -->
    <div class="brand-area">
        <div>
            <div class="brand-logo">OUAISFI</div>
            <div class="brand-model">PORTABLE AUDIO WM-2026</div>
        </div>
    </div>

    <!-- LCD SCREEN -->
    <div class="lcd-container">
        <div class="lcd-screen">
            <div class="lcd-overlay"></div>
            <div class="lcd-content">
                <div class="lcd-row">
                    <span class="lcd-icon" id="playIcon">‚ñ∂</span>
                    <span class="lcd-status" id="lcdStatus">STOP</span>
                    <span class="lcd-icon">üîã</span>
                </div>
                <div class="lcd-time" id="lcdTime">00:00</div>
                <div class="lcd-track" id="lcdTrack">PARTY ON GAME OVER</div>
                <div class="lcd-progress" id="lcdProgress"></div>
            </div>
        </div>
    </div>

    <!-- CASSETTE WINDOW -->
    <div class="cassette-window">
        <div class="cassette-label">MEGA BASS</div>
        <div class="cassette-inner">
            <div class="cassette-reel"></div>
            <div class="cassette-tape"></div>
            <div class="cassette-reel"></div>
        </div>
    </div>

    <!-- CONTROLS -->
    <div class="controls-section">
        <div class="main-buttons">
            <button class="ctrl-btn" id="btnPrev">‚èÆ</button>
            <button class="ctrl-btn" id="btnRew">‚è™</button>
            <button class="ctrl-btn" id="btnStop">‚èπ</button>
            <button class="ctrl-btn play-btn" id="btnPlay">‚ñ∂</button>
            <button class="ctrl-btn" id="btnFwd">‚è©</button>
            <button class="ctrl-btn" id="btnNext">‚è≠</button>
        </div>

        <div class="secondary-buttons">
            <button class="small-btn" id="btnRepeat">REPEAT</button>
            <button class="small-btn" id="btnShuffle">SHUFFLE</button>
            <button class="small-btn" id="btnList">LIST</button>
        </div>

        <div class="volume-section">
            <span class="vol-label">VOL</span>
            <input type="range" class="vol-slider" id="volumeSlider" min="0" max="100" value="80">
            <span class="vol-value" id="volValue">80</span>
        </div>

        <div class="eq-section">
            <div class="eq-dot active"></div>
            <div class="eq-dot"></div>
            <div class="eq-dot"></div>
            <div class="eq-dot"></div>
            <div class="eq-dot"></div>
        </div>
    </div>

    <!-- PLAYLIST -->
    <div class="playlist-section" id="playlistSection">
        <div id="playlistContainer"></div>
    </div>

    <!-- JACK -->
    <div class="jack-section">
        <div class="headphone-jack"></div>
        <span class="jack-label">PHONES</span>
    </div>
</div>

<audio id="audio" preload="metadata"></audio>

<script>
const playlist = [
    { title: "PARTY ON GAME OVER", src: "https://dl.ouaisfi.eu/ccplc/test-o/party-on-game-over.mp3" },
    { title: "BULLETIN SOCIAL #7", src: "https://dl.ouaisfi.eu/ccplc/test-o/party-on-game-over.mp3" },
    { title: "WAKE UP CALL", src: "https://dl.ouaisfi.eu/ccplc/test-o/party-on-game-over.mp3" }
];

const audio = document.getElementById('audio');
const player = document.getElementById('player');
const btnPlay = document.getElementById('btnPlay');
const btnStop = document.getElementById('btnStop');
const lcdTime = document.getElementById('lcdTime');
const lcdTrack = document.getElementById('lcdTrack');
const lcdStatus = document.getElementById('lcdStatus');
const playIcon = document.getElementById('playIcon');
const lcdProgress = document.getElementById('lcdProgress');
const playlistSection = document.getElementById('playlistSection');
const volValue = document.getElementById('volValue');

let currentTrack = 0;
let isPlaying = false;
const numBlocks = 15;

// Create progress blocks
for (let i = 0; i < numBlocks; i++) {
    const block = document.createElement('div');
    block.className = 'lcd-block';
    lcdProgress.appendChild(block);
}

function formatTime(s) {
    if (isNaN(s)) return "00:00";
    return `${String(Math.floor(s/60)).padStart(2,'0')}:${String(Math.floor(s%60)).padStart(2,'0')}`;
}

function renderPlaylist() {
    const container = document.getElementById('playlistContainer');
    container.innerHTML = '';
    playlist.forEach((t, i) => {
        const item = document.createElement('div');
        item.className = `playlist-item ${i === currentTrack ? 'active' : ''}`;
        item.innerHTML = `<span class="item-num">${i+1}.</span><span class="item-title">${t.title}</span>`;
        item.onclick = () => { currentTrack = i; loadTrack(i); play(); };
        container.appendChild(item);
    });
}

function loadTrack(i) {
    const t = playlist[i];
    audio.src = t.src;
    lcdTrack.textContent = t.title;
    document.querySelectorAll('.playlist-item').forEach((el, idx) => el.classList.toggle('active', idx === i));
}

function play() {
    audio.play().then(() => {
        isPlaying = true;
        player.classList.add('playing');
        btnPlay.classList.add('active');
        btnPlay.textContent = '‚ùö‚ùö';
        lcdStatus.textContent = 'PLAY';
        playIcon.textContent = '‚ñ∂';
    });
}

function pause() {
    audio.pause();
    isPlaying = false;
    player.classList.remove('playing');
    btnPlay.classList.remove('active');
    btnPlay.textContent = '‚ñ∂';
    lcdStatus.textContent = 'PAUSE';
    playIcon.textContent = '‚ùö‚ùö';
}

function stop() {
    pause();
    audio.currentTime = 0;
    lcdStatus.textContent = 'STOP';
    playIcon.textContent = '‚èπ';
}

btnPlay.onclick = () => isPlaying ? pause() : play();
btnStop.onclick = stop;
document.getElementById('btnPrev').onclick = () => { currentTrack = (currentTrack - 1 + playlist.length) % playlist.length; loadTrack(currentTrack); if(isPlaying) play(); };
document.getElementById('btnNext').onclick = () => { currentTrack = (currentTrack + 1) % playlist.length; loadTrack(currentTrack); if(isPlaying) play(); };
document.getElementById('btnRew').onclick = () => audio.currentTime -= 10;
document.getElementById('btnFwd').onclick = () => audio.currentTime += 10;

document.getElementById('btnRepeat').onclick = function() { 
    audio.loop = !audio.loop; 
    this.classList.toggle('active', audio.loop); 
};
document.getElementById('btnShuffle').onclick = function() { 
    this.classList.toggle('active'); 
};
document.getElementById('btnList').onclick = () => { 
    playlistSection.classList.toggle('open'); 
};

document.getElementById('volumeSlider').oninput = (e) => { 
    audio.volume = e.target.value / 100; 
    volValue.textContent = e.target.value;
};

audio.ontimeupdate = () => {
    lcdTime.textContent = formatTime(audio.currentTime);
    const percent = (audio.currentTime / audio.duration) || 0;
    const filledBlocks = Math.floor(percent * numBlocks);
    const blocks = lcdProgress.querySelectorAll('.lcd-block');
    blocks.forEach((b, i) => b.classList.toggle('filled', i < filledBlocks));
    
    // EQ animation
    if (isPlaying) {
        document.querySelectorAll('.eq-dot').forEach(dot => {
            dot.classList.toggle('active', Math.random() > 0.5);
        });
    }
};

audio.onended = () => { currentTrack = (currentTrack + 1) % playlist.length; loadTrack(currentTrack); play(); };

document.addEventListener('keydown', (e) => { if (e.code === 'Space') { e.preventDefault(); isPlaying ? pause() : play(); } });

renderPlaylist();
loadTrack(0);
audio.volume = 0.8;
</script>

</body>
</html>
